---
transition: slide-up
layout: two-cols
class: px-2
---

# ä¸ºä»€ä¹ˆæ˜¯ Rustï¼Ÿ

Rust æœ‰ä»¥ä¸‹å‡ ä¸ªä¼˜åŠ¿ï¼š

<span class="text-lg font-bold text-amber">é«˜æ€§èƒ½</span>
- Rust å¯ä»¥åˆ©ç”¨ WebAssembly æŠ€æœ¯ï¼Œåœ¨æµè§ˆå™¨ä¸­è¿è¡Œæ¥è¿‘åŸç”Ÿé€Ÿåº¦çš„ä»£ç ã€‚
- Rust è¿˜å¯ä»¥æä¾›æ›´å¥½çš„å¹¶å‘æ”¯æŒï¼Œåˆ©ç”¨å¤šæ ¸å¤„ç†å™¨å’Œå¼‚æ­¥ I/O æ¥æå‡æ€§èƒ½ã€‚

<span class="text-lg font-bold text-amber">å®‰å…¨</span>
  - Rust é€šè¿‡æ‰€æœ‰æƒï¼ˆownershipï¼‰ã€å€Ÿç”¨ï¼ˆborrowingï¼‰å’Œç”Ÿå‘½å‘¨æœŸï¼ˆlifetimeï¼‰ç­‰æœºåˆ¶åœ¨ç¼–è¯‘æœŸè‡ªåŠ¨æ’å…¥å†…å­˜é‡Šæ”¾é€»è¾‘æ¥å®ç°å†…å­˜ç®¡ç†ï¼Œå¯ä»¥é¿å…å¸¸è§çš„å†…å­˜é”™è¯¯ï¼Œå¦‚ç©ºæŒ‡é’ˆè§£å¼•ç”¨ã€ç¼“å†²åŒºæº¢å‡ºã€å†…å­˜æ³„æ¼ç­‰ã€‚
  - Rust è¿˜å¯ä»¥ä¿è¯æ•°æ®ç«äº‰å®‰å…¨ï¼Œé¿å…å¤šçº¿ç¨‹ç¯å¢ƒä¸‹çš„æ•°æ®ä¸ä¸€è‡´é—®é¢˜ã€‚

::right::

<span class="text-lg font-bold text-amber">è·¨å¹³å°</span>
  - Rust å¯ä»¥åœ¨ä¸åŒçš„æ“ä½œç³»ç»Ÿä¸Šè¿è¡Œï¼Œå¹¶ä¸”å¯ä»¥ä¸ Javascript å’Œå…¶ä»–è¯­è¨€è¿›è¡Œäº¤äº’ã€‚
  - Rust è¿˜å¯ä»¥ç”¨äºå¼€å‘æ¡Œé¢åº”ç”¨ã€ç§»åŠ¨åº”ç”¨ç­‰åœºæ™¯ã€‚

<span class="text-lg font-bold text-amber">ç”Ÿäº§åŠ›</span>
  - Rust æ˜¯ä¸€é—¨ç°ä»£çš„è¯­è¨€ï¼Œå®ƒæ‹¥æœ‰å¼ºå¤§çš„ç±»å‹ç³»ç»Ÿã€æ¨¡å—åŒ–ç»“æ„ã€è¡¨è¾¾åŠ›å¼ºçš„è¯­æ³•ç³–ã€ä¸°å¯Œçš„æ ‡å‡†åº“å’Œç”Ÿæ€ç³»ç»Ÿç­‰ç‰¹ç‚¹ã€‚
  - Rust è¿˜æ”¯æŒå…ƒç¼–ç¨‹ã€å®ç³»ç»Ÿã€æµ‹è¯•æ¡†æ¶ç­‰é«˜çº§ç‰¹æ€§ã€‚
  - Rust æ‹¥æœ‰å‡ºè‰²çš„æ–‡æ¡£ã€å‹å¥½çš„ç¼–è¯‘å™¨å’Œæ¸…æ™°çš„é”™è¯¯æç¤ºä¿¡æ¯ï¼Œè¿˜é›†æˆäº†ä¸€æµçš„åŒ…ç®¡ç†å™¨å’Œæ„å»ºå·¥å…·ï¼Œæ™ºèƒ½åœ°è‡ªåŠ¨è¡¥å…¨å’Œç±»å‹æ£€éªŒçš„å¤šç¼–è¾‘å™¨æ”¯æŒï¼Œä»¥åŠè‡ªåŠ¨æ ¼å¼åŒ–ä»£ç ç­‰ã€‚

---
transition: slide-left
---

# ğŸš€ é«˜æ€§èƒ½ã€å†…å­˜å®‰å…¨å’Œæ›´å°çš„å†…å­˜å ç”¨

<div class="grid grid-cols-[2fr_2fr] gap-4">

  <div>

  [Rust æ‰€æœ‰æƒè½¬ç§»çš„ä»£ç ç¤ºä¾‹](https://play.rust-lang.org/?version=stable&mode=debug&edition=2021&gist=4d4a822c9dcad71466f8d1c67c4282ec)ï¼š

  <div @click="$slidev.nav.next">

  ```rust
  fn main() {
      let text_ownership = String::from("Hello Rust!");
      // address: 0x5648a21129d0
      println!("address: {:p}", text_ownership.as_ptr());
      // æ‰€æœ‰æƒè¢«è½¬ç§»
      let text_ownership_move = text_ownership;
      // ç¼–è¯‘å¤±è´¥ï¼text_ownership å·²ç»è¢«é‡Šæ”¾ï¼Œæ— æ³•å†ä½¿ç”¨
      println!("{}", text_ownership);
      // address: 0x5648a21129d0
      println!("address: {:p}", text_ownership_move.as_ptr());
      println!("{}", text_ownership_move);
  }
  ```

  </div>

  </div>

  <div v-click="1">

  ç¼–è¯‘ç»“æœï¼š

  <img src="/rust-ownership-build-error.png" />

  </div>
</div>

- åœ¨ä¸€é¡¹æ¯”è¾ƒ[REST API æ€§èƒ½çš„åŸºå‡†æµ‹è¯•](https://medium.com/sean3z/rest-api-node-vs-rust-c75aa8c96343)ä¸­ï¼ˆRust ä½¿ç”¨ [Rocket](https://rocket.rs/)ï¼ŒNode.js ä½¿ç”¨ [Restify](http://restify.com/)ï¼‰ï¼ŒRust æ¯ç§’å¤„ç† **72,000** ä¸ªè¯·æ±‚ï¼Œè€Œ Node.js ä¸º **8,000** ä¸ªï¼Œç©ºé—²æ—¶ä½¿ç”¨çš„å†…å­˜å¤§çº¦ä¸º **1MB**ï¼Œè€Œ Node.js ä¸º **19MB**ã€‚

- å…¶ä»–æµ‹è¯•æ•°æ®å¯ä»¥å‚è€ƒ [Web Frameworks Benchmark](https://web-frameworks-benchmark.netlify.app/compare?f=actix,koa,fastify,express)

<!--
Rust æœ‰ä»¥ä¸‹ç‰¹ç‚¹ï¼š

- **é›¶æˆæœ¬æŠ½è±¡**ï¼šRust å¯ä»¥åœ¨ä¸ç‰ºç‰²æ€§èƒ½çš„æƒ…å†µä¸‹æä¾›é«˜çº§çš„æŠ½è±¡
- **å†…å­˜å®‰å…¨**ï¼šRust é€šè¿‡æ‰€æœ‰æƒã€å€Ÿç”¨å’Œç”Ÿå‘½å‘¨æœŸç­‰æœºåˆ¶æ¥é¿å…ç©ºæŒ‡é’ˆã€æ‚¬å‚æŒ‡é’ˆã€æ•°æ®ç«äº‰ç­‰å¸¸è§çš„å†…å­˜é”™è¯¯
- **ç±»å‹å®‰å…¨**ï¼šRust çš„ç±»å‹ç³»ç»Ÿå¯ä»¥åœ¨ç¼–è¯‘æœŸæ£€æŸ¥å‡ºç±»å‹é”™è¯¯ã€ç©ºå€¼é”™è¯¯ã€åŒ¹é…é”™è¯¯ç­‰ï¼Œå¹¶æ”¯æŒæ³›å‹å’Œç‰¹å¾ç­‰é«˜çº§ç‰¹æ€§
- **è¡¨è¾¾åŠ›**ï¼šRust çš„è¯­æ³•å’Œè¯­ä¹‰å¯ä»¥è®©å¼€å‘è€…ç”¨ç®€æ´å’Œæ¸…æ™°çš„æ–¹å¼è¡¨è¾¾å¤æ‚çš„é€»è¾‘
- **ç”Ÿæ€ç³»ç»Ÿ**ï¼šRust æ‹¥æœ‰ä¸€ä¸ªåºå¤§è€Œæ´»è·ƒçš„ç¤¾åŒºï¼Œä»¥åŠä¸°å¯Œè€Œé«˜è´¨é‡çš„ç¬¬ä¸‰æ–¹åº“

- Rust é€šè¿‡æ‰€æœ‰æƒã€å€Ÿç”¨å’Œç”Ÿå‘½å‘¨æœŸç­‰æœºåˆ¶åœ¨ç¼–è¯‘æœŸè‡ªåŠ¨æ’å…¥å†…å­˜é‡Šæ”¾é€»è¾‘æ¥å®ç°å†…å­˜ç®¡ç†ã€‚ç”±äºæ²¡æœ‰äº†åƒåœ¾å›æ”¶äº§ç”Ÿçš„è¿è¡Œæ—¶å¼€é”€ï¼ŒRust æ•´ä½“è¡¨ç°çš„é€Ÿåº¦æƒŠäººä¸”å†…å­˜åˆ©ç”¨ç‡æé«˜ï¼Œå…¶å†…å­˜å ç”¨ä¹Ÿè¾ƒå°‘ï¼Œè¿™ä½¿å¾— Rust æˆä¸ºç¼–å†™é«˜æ€§èƒ½ã€ä½å»¶è¿Ÿçš„å‰ç«¯åº”ç”¨çš„ç†æƒ³é€‰æ‹©ã€‚
- Rust çš„æ‰€æœ‰æƒç³»ç»Ÿå¯ä»¥ç¡®ä¿å†…å­˜å®‰å…¨ï¼Œè¿™å‡å°‘äº†åœ¨ç¼–å†™å¤æ‚å‰ç«¯ä»£ç æ—¶å‡ºç°çš„æ½œåœ¨å†…å­˜æ³„æ¼å’Œç©ºæŒ‡é’ˆé—®é¢˜çš„é£é™©ã€‚

text_ownership.as_ptr() æ‰“å°çš„åœ°å€æ˜¯ text_ownership è¡¨ç¤ºçš„å †ä¸Šå¯¹è±¡çš„å®é™…åœ°å€
-->
